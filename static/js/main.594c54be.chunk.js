(this["webpackJsonpmarvel-comics"]=this["webpackJsonpmarvel-comics"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var c,a,s,r,i,o,l,d,b=n(0),u=n.n(b),j=n(15),m=n.n(j),p=n(19),h=n(6),x=n(21),O=n.n(x),f=n(18),g=n(27),v=n(13),N=n(11),k=n(42),w=(n(68),n.p+"static/media/marvel-logo.568d8c62.png"),y=n(1),C=function(){var e=Object(N.c)((function(e){return e.cart.length}));return Object(y.jsx)("div",{className:"header-prime",children:Object(y.jsxs)("nav",{className:"l-header navbar navbar-expand-lg navbar-dark",children:[Object(y.jsx)(p.c,{to:"/",activeClassName:"active",className:"navbar-brand",children:Object(y.jsx)("img",{src:w,alt:"Marvel",className:"logo"})}),Object(y.jsx)("div",{className:"collapse navbar-collapse",id:"navbarColor01",children:Object(y.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(p.c,{to:"/",activeClassName:"active",className:"nav-link",children:"Home"})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(p.c,{to:"/cart",activeClassName:"active",className:"nav-link",children:"HQs Selecionadas"})})]})}),Object(y.jsx)("ul",{className:"navbar-nav ml-md-auto",children:Object(y.jsx)(p.c,{to:"/cart",activeClassName:"active",className:"nav-item text-white",children:Object(y.jsx)("i",{className:"fas fa-shopping-cart fa-2x","aria-hidden":"true",children:Object(y.jsxs)("span",{className:"fa-counter",children:["(",e,")"]})})})})]})})},S=(n(72),function(e){var t=e.value,n=e.onChange;return Object(y.jsx)("input",{className:"search-comic",type:"search",value:t,onChange:function(e){n(e.target.value)},placeholder:"Buscar"})}),E=(n(73),document.getElementById("portal-root")),M=function(e){var t=e.children,n=e.isOpen,c=e.onClickClose;return n?m.a.createPortal(Object(y.jsx)("div",{className:"modal__overlay",children:Object(y.jsxs)("div",{className:"modal-comic",children:[Object(y.jsx)("button",{type:"button",className:"modal__close-button",onClick:c,children:"X"}),t]})}),E):null},J=n(55),_=n.n(J),I=n(56),A=n.n(I),D="dfcea5624021194f64456856867a20cb",W=Number(new Date),F=A()(W+"c3f270dda8dd619391eea0e2b50318905790d284"+D),T=_.a.create({baseURL:"https://gateway.marvel.com/v1/public/",params:{ts:W,apikey:D,hash:F}}),z=n(22),H=n(20),Z=Object(H.b)("ADD_ITEM"),Q=Object(H.b)("REMOVE_ITEM"),U=Object(H.c)([],(c={},Object(z.a)(c,Z.type,(function(e,t){return[].concat(Object(f.a)(e),[t.payload])})),Object(z.a)(c,Q.type,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),c)),X=n(29),B=Object(H.b)("ADD_MESSAGE"),P=Object(H.b)("REMOVE_MESSAGE"),V=Object(H.c)({messages:[]},(a={},Object(z.a)(a,B.type,(function(e,t){return Object(X.a)(Object(X.a)({},e),{},{messages:[].concat(Object(f.a)(e.messages),[t.payload])})})),Object(z.a)(a,P.type,(function(e,t){return Object(X.a)(Object(X.a)({},e),{},{messages:e.messages.filter((function(e){return e!==t.payload}))})})),a)),Y=n(25),L=n(26),R=L.a.main(s||(s=Object(Y.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    width:100%;\n    height:100%;\n\n"]))),q=L.a.div(r||(r=Object(Y.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n"]))),G=L.a.div(i||(i=Object(Y.a)(["\n\n    background-color:#f1f1f1;\n    height: 550px;\n    width:300px;\n    margin:10px;\n    margin-top: 30px;\n    border-radius: 5px;\n    overflow:hidden;\n    box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.3);\n\n    h2, p {\n        padding:5px;\n        text-align: justify;\n    }\n\n    .imgComic{\n        height:400px;\n        width:100%;\n        background: no-repeat center;\n        background-size: cover;\n    }\n\n    .title-comic{\n        padding:5px;\n        text-align: justify;\n        max-width: 270px;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n\n"]))),K=(L.a.div(o||(o=Object(Y.a)(["\n    background: #fff;\n    height : 30px;\n    width: 100px;\n    float:right;\n    padding: 4px;\n    text-align: center;\n    border-radius: 5px;\n    transition: all 0.3s;\n\n    cursor:pointer;\n    box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.3);\n    margin-right: 10px;\n\n    &:hover{\n        background:#ec1d24;\n    }\n"]))),L.a.div(l||(l=Object(Y.a)(["\n    background: #fff;\n    height : 30px;\n    width: 100px;\n    float:left;\n    padding: 4px;\n    text-align: center;\n    border-radius: 5px;\n    transition: all 0.3s;\n\n    cursor:pointer;\n    box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.3);\n    margin-left: 10px;\n\n    &:hover{\n        background:#ec1d24;\n    }\n"]))),L.a.div(d||(d=Object(Y.a)(["\n    background: #fff;\n    height : 40px;\n    margin: 20px auto;\n    padding: 0 50px;\n    border-radius: 5px;\n    display:flex;\n    align-items: center;\n    justify-content: space-around;\n    transition: all 0.3s;\n\n    cursor:pointer;\n    box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.3);\n\n    &:hover{\n        background:#ec1d24;\n    }\n\n    svg{\n        margin: 0 8px;\n    }\n"])))),$=function(){var e=Object(b.useState)([]),t=Object(v.a)(e,2),n=t[0],c=t[1],a=Object(b.useState)(""),s=Object(v.a)(a,2),r=s[0],i=s[1],o=Object(b.useState)(),l=Object(v.a)(o,2),d=l[0],u=l[1],j=Object(b.useState)(null),m=Object(v.a)(j,2),p=m[0],h=m[1],x=Object(N.b)();Object(b.useEffect)((function(){r?T.get("/comics?titleStartsWith=".concat(r)).then((function(e){return c(e.data.data.results)})).catch((function(e){return console.log(e)})):T.get("/comics").then((function(e){return c(e.data.data.results)})).catch((function(e){return console.log(e)}))}),[r]);var w=Object(b.useCallback)(Object(g.a)(O.a.mark((function e(){var t,a,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=14;break}return e.prev=1,t=n.length,e.next=5,T.get("/comics?titleStartsWith=".concat(r),{params:{offset:t}});case 5:a=e.sent,c([].concat(Object(f.a)(n),Object(f.a)(a.data.data.results))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:e.next=25;break;case 14:return e.prev=14,s=n.length,e.next=18,T.get("comics",{params:{offset:s}});case 18:i=e.sent,c([].concat(Object(f.a)(n),Object(f.a)(i.data.data.results))),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(14),console.log(e.t1);case 25:case"end":return e.stop()}}),e,null,[[1,9],[14,22]])}))),[n,r]);function E(){return(E=Object(g.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/comics/".concat(t)).then((function(e){return u(e.data.data.results)})).catch((function(e){return console.log(e)}));case 2:e.sent,h(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsxs)(R,{children:[Object(y.jsx)(C,{}),Object(y.jsx)(S,{value:r,onChange:function(e){return i(e)}}),Object(y.jsxs)(q,{children:[n.map((function(e){return Object(y.jsxs)(G,{comic:e,children:[Object(y.jsx)("img",{className:"imgComic",src:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),alt:"Capa de ".concat(e.title)}),Object(y.jsx)("h2",{className:"title-comic p-0 mb-1 ml-2",children:e.title}),Object(y.jsxs)("p",{className:"p-0 mb-1 ml-2",children:["Number Pages: ",e.pageCount]}),Object(y.jsxs)("p",{className:"p-0 mb-2 ml-2",children:["Format: ",e.format]}),Object(y.jsx)("button",{type:"button",className:"btn btn-danger float-right mr-2",onClick:function(){return function(e){return E.apply(this,arguments)}(e.id)},children:"Detalhes"}),Object(y.jsx)("button",{className:"btn btn-danger float-left ml-2",onClick:function(){return function(e){x(Z(e)),x(B("".concat(e.title," adicionado com sucesso!")))}(e)},children:"Selecionar"})]},e.id)})),p&&Object(y.jsx)(M,{isOpen:!0,onClickClose:function(){return h(null)},children:d.map((function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{className:"modal-title",children:e.title}),Object(y.jsx)("img",{className:"imgComic-modal",src:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),alt:"Capa de ".concat(e.title)}),Object(y.jsxs)("p",{className:"p-0 mb-1",children:["Number Pages: ",e.pageCount]}),Object(y.jsxs)("p",{className:"p-0 mb-1",children:["Format: ",e.format]}),Object(y.jsxs)("p",{className:"p-0 mb-2",children:["Description: ",e.description]})]})}))})]}),Object(y.jsxs)(K,{onClick:w,children:[Object(y.jsx)(k.a,{size:20}),"Mais",Object(y.jsx)(k.a,{size:20})]})]})},ee=function(e){var t=e.item,n=e.removeItemCart;return Object(y.jsx)("div",{className:"col-sm-2 mt-3 card-cart",children:Object(y.jsxs)("div",{className:"card bg-light mb-3",children:[Object(y.jsx)("img",{className:"card-img-top img-thumbnail img-card-cart",src:"".concat(t.thumbnail.path,".").concat(t.thumbnail.extension),alt:t.title}),Object(y.jsxs)("div",{className:"card-body",children:[Object(y.jsx)("h5",{className:"card-title title-comic",children:t.title}),Object(y.jsx)("button",{onClick:function(){return n(t.id)},className:"btn btn-danger",children:Object(y.jsx)("i",{className:"fa fa-trash"})})]})]})})},te=(n(93),function(){var e=Object(N.c)((function(e){return e.cart})),t=Object(N.b)();function n(e){t(Q(e)),t(B("Item removido com sucesso!"))}return Object(y.jsxs)("div",{children:[Object(y.jsx)(C,{}),Object(y.jsx)("div",{className:"container-fluid",children:Object(y.jsx)("div",{className:"row",children:0===e.length?Object(y.jsx)("h2",{className:"col-sm-12 msg-cart-empty text-center font-weight-bold",children:"Sem HQs selecionadas"}):Object(y.jsxs)(u.a.Fragment,{children:[Object(y.jsx)(p.b,{to:"/send",className:"btn-send text-center font-weight-bold",children:"Escolher Endere\xe7o de envio"}),Object(y.jsx)("h2",{className:"col-sm-12 msg-cart text-dark text-center font-weight-bold",children:"HQs Selecionadas"}),e.map((function(e){return Object(y.jsx)(ee,{item:e,removeItemCart:n},e.id)}))]})})})]})}),ne=(n(94),n(111)),ce=n(112),ae=n(109),se=n(113),re=n(8),ie=n.n(re),oe=n(110),le=n(59),de=n.p+"static/media/package.6c449529.svg",be=n.p+"static/media/pin.fa599afc.svg",ue=(n(103),{lat:-22.2154042,lng:-54.8331331}),je=ie.a.icon({iconUrl:de,iconSize:[58,68],iconAnchor:[29,68],popupAnchor:[170,2]}),me=ie.a.icon({iconUrl:be,iconSize:[58,68],iconAnchor:[29,68],popupAnchor:[170,2]});var pe=function(){var e=Object(b.useState)([]),t=Object(v.a)(e,2),n=t[0],c=t[1],a=Object(b.useState)(null),s=Object(v.a)(a,2),r=s[0],i=s[1],o=Object(b.useState)(""),l=Object(v.a)(o,2),d=l[0],u=l[1],j=Object(b.useState)(""),m=Object(v.a)(j,2),p=m[0],h=m[1],x=Object(b.useState)(null),N=Object(v.a)(x,2),k=N[0],w=N[1],S=Object(b.useState)(ue),E=Object(v.a)(S,2),M=E[0],J=E[1],_=function(){var e=Object(g.a)(O.a.mark((function e(t,n){var c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,".json?").concat("access_token=pk.eyJ1Ijoia2F1ZS1ndWVycmEiLCJhIjoiY2twNHZwcTA1MXJ3cTJ3bXdmZ2JpYWE0aCJ9.rri04Tk-1EUMf1mo7WgqMQ")).then((function(e){return e.json()})).then((function(e){return e}));case 2:if(c=e.sent,a=[],!(t.length<5)){e.next=6;break}return e.abrupt("return");case 6:c.features.map((function(e){a.push({label:e.place_name,value:e.place_name,coords:e.center,place:e.place_name})})),n(a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function I(){return(I=Object(g.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),k&&d){e.next=3;break}return e.abrupt("return");case 3:c([].concat(Object(f.a)(n),[{id:Object(oe.a)(),name:d,address:(null===k||void 0===k?void 0:k.value)||"",complement:p,latitude:M.lat,longitude:M.lng}])),u(""),w(null),h(""),i(null),alert("Seu pedido ser\xe1 entregue em breve no endere\xe7o selecionado. Muito Obrigado."),window.location.href="https://kaue-guerra.github.io/marvel-comics/#/";case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsxs)("div",{children:[Object(y.jsx)(C,{}),Object(y.jsxs)("div",{id:"page-map",children:[Object(y.jsx)("main",{children:Object(y.jsxs)("form",{onSubmit:function(e){return I.apply(this,arguments)},className:"landing-page-form",children:[Object(y.jsxs)("fieldset",{children:[Object(y.jsx)("legend",{children:"Selecione o endere\xe7o de entrega"}),Object(y.jsxs)("div",{className:"input-block",children:[Object(y.jsx)("label",{htmlFor:"name",children:"Nome"}),Object(y.jsx)("input",{id:"name",placeholder:"Digite seu nome",value:d,onChange:function(e){return u(e.target.value)}})]}),Object(y.jsxs)("div",{className:"input-block",children:[Object(y.jsx)("label",{htmlFor:"address",children:"Endere\xe7o"}),Object(y.jsx)(le.a,{placeholder:"Digite seu endere\xe7o...",classNamePrefix:"filter",cacheOptions:!0,loadOptions:_,onChange:function(e){i({longitude:e.coords[0],latitude:e.coords[1]}),w({label:e.place,value:e.place}),J({lng:e.coords[0],lat:e.coords[1]})},value:k})]}),Object(y.jsxs)("div",{className:"input-block",children:[Object(y.jsx)("label",{htmlFor:"complement",children:"Complemento"}),Object(y.jsx)("input",{placeholder:"Complemento",id:"complement",value:p,onChange:function(e){return h(e.target.value)}})]})]}),Object(y.jsx)("button",{className:"confirm-button",type:"submit",children:"Confirmar"})]})}),Object(y.jsxs)(ne.a,{center:M,zoom:15,style:{width:"100%",height:"100%"},children:[Object(y.jsx)(ce.a,{url:"https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1Ijoia2F1ZS1ndWVycmEiLCJhIjoiY2twNHZwcTA1MXJ3cTJ3bXdmZ2JpYWE0aCJ9.rri04Tk-1EUMf1mo7WgqMQ"}),r&&Object(y.jsx)(ae.a,{icon:me,position:[r.latitude,r.longitude]}),n.map((function(e){return Object(y.jsx)(ae.a,{icon:je,position:[e.latitude,e.longitude],children:Object(y.jsx)(se.a,{closeButton:!1,minWidth:240,maxWidth:240,className:"map-popup",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:e.name}),Object(y.jsxs)("p",{children:[e.address," - ",e.complement]})]})})},e.id)}))]})]})]})},he=function(){return Object(y.jsxs)(h.c,{children:[Object(y.jsx)(h.a,{path:"/",component:$,exact:!0}),Object(y.jsx)(h.a,{path:"/cart",component:te}),Object(y.jsx)(h.a,{path:"/send",component:pe})]})};function xe(e){var t=e.message,n=Object(N.b)();return Object(b.useEffect)((function(){setTimeout((function(){n(P(t))}),2500)}),[n,t]),Object(y.jsx)("div",{className:"container mt-3",children:Object(y.jsx)("div",{className:"alert alert-success font-weight-bold",role:"alert",children:t})})}n(104);function Oe(){var e=Object(N.c)((function(e){return e.layout})).messages;return Object(y.jsx)("div",{className:"messages",children:e.map((function(e,t){return Object(y.jsx)(xe,{message:e},t)}))})}var fe=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Oe,{}),Object(y.jsx)(he,{})]})},ge=Object(H.a)({reducer:{cart:U,layout:V}});n(105);m.a.render(Object(y.jsx)(u.a.StrictMode,{children:Object(y.jsx)(N.a,{store:ge,children:Object(y.jsx)(p.a,{children:Object(y.jsx)(fe,{})})})}),document.getElementById("root"))},68:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},93:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.594c54be.chunk.js.map