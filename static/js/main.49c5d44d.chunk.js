(this["webpackJsonpmarvel-comics"]=this["webpackJsonpmarvel-comics"]||[]).push([[0],{55:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c,a,s,r,i,o,l,b,d=n(0),j=n.n(d),u=n(18),m=n.n(u),h=n(15),p=n(3),x=n(21),f=n.n(x),O=n(11),g=n(27),v=n(23),N=n(6),w=n(30),y=(n(55),n.p+"static/media/marvel-logo.568d8c62.png"),k=n(1),C=function(){var e=Object(N.c)((function(e){return e.cart.length}));return Object(k.jsx)("header",{children:Object(k.jsxs)("nav",{children:[Object(k.jsx)(h.b,{to:"/",children:Object(k.jsx)("img",{src:y,alt:"Marvel",className:"logo"})}),Object(k.jsx)(h.b,{to:"/",className:"align-middle text-white",children:"Home"}),Object(k.jsxs)(h.b,{className:"mt-4 text-white align-middle",to:"/cart",children:["HQs Selecionadas",Object(k.jsxs)("i",{class:"fas fa-shopping-cart float-right",children:["(",e,")"]})]})]})})},S=(n(59),function(e){var t=e.value,n=e.onChange;return Object(k.jsx)("input",{className:"search-comic",type:"search",value:t,onChange:function(e){n(e.target.value)},placeholder:"Buscar"})}),E=(n(60),document.getElementById("portal-root")),M=function(e){var t=e.children,n=e.isOpen,c=e.onClickClose;return n?m.a.createPortal(Object(k.jsx)("div",{className:"modal__overlay",children:Object(k.jsxs)("div",{className:"modal-comic",children:[Object(k.jsx)("button",{type:"button",className:"modal__close-button",onClick:c,children:"X"}),t]})}),E):null},_=n(42),D=n.n(_),I=n(43),A=n.n(I),F="dfcea5624021194f64456856867a20cb",z=Number(new Date),B=A()(z+"c3f270dda8dd619391eea0e2b50318905790d284"+F),H=D.a.create({baseURL:"https://gateway.marvel.com/v1/public/",params:{ts:z,apikey:F,hash:B}}),P=n(13),R=n(10),T=Object(R.b)("ADD_ITEM"),G=Object(R.b)("REMOVE_ITEM"),J=Object(R.c)([],(c={},Object(P.a)(c,T.type,(function(e,t){return[].concat(Object(O.a)(e),[t.payload])})),Object(P.a)(c,G.type,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),c)),Q=n(22),V=Object(R.b)("ADD_MESSAGE"),W=Object(R.b)("REMOVE_MESSAGE"),L=Object(R.c)({messages:[]},(a={},Object(P.a)(a,V.type,(function(e,t){return Object(Q.a)(Object(Q.a)({},e),{},{messages:[].concat(Object(O.a)(e.messages),[t.payload])})})),Object(P.a)(a,W.type,(function(e,t){return Object(Q.a)(Object(Q.a)({},e),{},{messages:e.messages.filter((function(e){return e!==t.payload}))})})),a)),U=n(16),X=n(17),q=X.a.main(s||(s=Object(U.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    width:100%;\n    height:100%;\n\n"]))),K=X.a.div(r||(r=Object(U.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n"]))),Y=X.a.div(i||(i=Object(U.a)(["\n\n    background-color:#f1f1f1;\n    height: 550px;\n    width:300px;\n    margin:10px;\n    border-radius: 5px;\n    overflow:hidden;\n    box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.3);\n\n    h2, p {\n        padding:5px;\n        text-align: justify;\n    }\n\n    .imgComic{\n        height:400px;\n        width:100%;\n        background: no-repeat center;\n        background-size: cover;\n    }\n\n    .title-comic{\n        padding:5px;\n        text-align: justify;\n        max-width: 270px;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n\n"]))),Z=(X.a.div(o||(o=Object(U.a)(["\n    background: #fff;\n    height : 30px;\n    width: 100px;\n    float:right;\n    padding: 4px;\n    text-align: center;\n    border-radius: 5px;\n    transition: all 0.3s;\n\n    cursor:pointer;\n    box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.3);\n    margin-right: 10px;\n\n    &:hover{\n        background:#ec1d24;\n    }\n"]))),X.a.div(l||(l=Object(U.a)(["\n    background: #fff;\n    height : 30px;\n    width: 100px;\n    float:left;\n    padding: 4px;\n    text-align: center;\n    border-radius: 5px;\n    transition: all 0.3s;\n\n    cursor:pointer;\n    box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.3);\n    margin-left: 10px;\n\n    &:hover{\n        background:#ec1d24;\n    }\n"]))),X.a.div(b||(b=Object(U.a)(["\n    background: #fff;\n    height : 40px;\n    margin: 20px auto;\n    padding: 0 50px;\n    border-radius: 5px;\n    display:flex;\n    align-items: center;\n    justify-content: space-around;\n    transition: all 0.3s;\n\n    cursor:pointer;\n    box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.3);\n\n    &:hover{\n        background:#ec1d24;\n    }\n\n    svg{\n        margin: 0 8px;\n    }\n"])))),$=function(){var e=Object(d.useState)([]),t=Object(v.a)(e,2),n=t[0],c=t[1],a=Object(d.useState)(""),s=Object(v.a)(a,2),r=s[0],i=s[1],o=Object(d.useState)(),l=Object(v.a)(o,2),b=l[0],j=l[1],u=Object(d.useState)(null),m=Object(v.a)(u,2),h=m[0],p=m[1],x=Object(N.b)();Object(d.useEffect)((function(){r?H.get("/comics?titleStartsWith=".concat(r)).then((function(e){return c(e.data.data.results)})).catch((function(e){return console.log(e)})):H.get("/comics").then((function(e){return c(e.data.data.results)})).catch((function(e){return console.log(e)}))}),[r]);var y=Object(d.useCallback)(Object(g.a)(f.a.mark((function e(){var t,a,s,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=14;break}return e.prev=1,t=n.length,e.next=5,H.get("/comics?titleStartsWith=".concat(r),{params:{offset:t}});case 5:a=e.sent,c([].concat(Object(O.a)(n),Object(O.a)(a.data.data.results))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:e.next=25;break;case 14:return e.prev=14,s=n.length,e.next=18,H.get("comics",{params:{offset:s}});case 18:i=e.sent,c([].concat(Object(O.a)(n),Object(O.a)(i.data.data.results))),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(14),console.log(e.t1);case 25:case"end":return e.stop()}}),e,null,[[1,9],[14,22]])}))),[n,r]);function E(){return(E=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("/comics/".concat(t)).then((function(e){return j(e.data.data.results)})).catch((function(e){return console.log(e)}));case 2:e.sent,p(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsxs)(q,{children:[Object(k.jsx)(C,{}),Object(k.jsx)(S,{value:r,onChange:function(e){return i(e)}}),Object(k.jsxs)(K,{children:[n.map((function(e){return Object(k.jsxs)(Y,{comic:e,children:[Object(k.jsx)("img",{className:"imgComic",src:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),alt:"Capa de ".concat(e.title)}),Object(k.jsx)("h2",{className:"title-comic p-0 mb-1 ml-2",children:e.title}),Object(k.jsxs)("p",{className:"p-0 mb-1 ml-2",children:["Number Pages: ",e.pageCount]}),Object(k.jsxs)("p",{className:"p-0 mb-2 ml-2",children:["Format: ",e.format]}),Object(k.jsx)("button",{type:"button",className:"btn btn-danger float-right mr-2",onClick:function(){return function(e){return E.apply(this,arguments)}(e.id)},children:"Detalhes"}),Object(k.jsx)("button",{className:"btn btn-danger float-left ml-2",onClick:function(){return function(e){x(T(e)),x(V("".concat(e.title," adicionado com sucesso!")))}(e)},children:"Selecionar"})]},e.id)})),h&&Object(k.jsx)(M,{isOpen:!0,onClickClose:function(){return p(null)},children:b.map((function(e){return Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:"modal-title",children:e.title}),Object(k.jsx)("img",{className:"imgComic-modal",src:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),alt:"Capa de ".concat(e.title)}),Object(k.jsxs)("p",{className:"p-0 mb-1",children:["Number Pages: ",e.pageCount]}),Object(k.jsxs)("p",{className:"p-0 mb-1",children:["Format: ",e.format]}),Object(k.jsxs)("p",{className:"p-0 mb-2",children:["Description: ",e.description]})]})}))})]}),Object(k.jsxs)(Z,{onClick:y,children:[Object(k.jsx)(w.a,{size:20}),"Mais",Object(k.jsx)(w.a,{size:20})]})]})},ee=function(e){var t=e.item,n=e.removeItemCart;return Object(k.jsx)("div",{className:"col-sm-2 mt-3",children:Object(k.jsxs)("div",{className:"card bg-light mb-3",children:[Object(k.jsx)("img",{className:"card-img-top img-thumbnail img-card-cart",src:"".concat(t.thumbnail.path,".").concat(t.thumbnail.extension),alt:t.title}),Object(k.jsxs)("div",{className:"card-body",children:[Object(k.jsx)("h5",{className:"card-title title-comic",children:t.title}),Object(k.jsx)("button",{onClick:function(){return n(t.id)},className:"btn btn-danger",children:Object(k.jsx)("i",{className:"fa fa-trash"})})]})]})})},te=(n(80),function(){var e=Object(N.c)((function(e){return e.cart})),t=Object(N.b)();function n(e){t(G(e)),t(V("Item removido com sucesso!"))}return Object(k.jsxs)("div",{children:[Object(k.jsx)(C,{}),Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsx)("div",{className:"row",children:0===e.length?Object(k.jsx)("h2",{className:"col-sm-12 mt-5 text-center font-weight-bold",children:"Sem revistas no carrinho"}):Object(k.jsxs)(j.a.Fragment,{children:[Object(k.jsx)("h2",{className:"col-sm-12 mt-5 text-dark text-center font-weight-bold",children:"HQs Selecionadas"}),e.map((function(e){return Object(k.jsx)(ee,{item:e,removeItemCart:n},e.id)}))]})})})]})}),ne=function(){return Object(k.jsxs)(p.c,{children:[Object(k.jsx)(p.a,{path:"/",component:$,exact:!0}),Object(k.jsx)(p.a,{path:"/cart",component:te})]})};function ce(e){var t=e.message,n=Object(N.b)();return Object(d.useEffect)((function(){setTimeout((function(){n(W(t))}),2500)}),[n,t]),Object(k.jsx)("div",{className:"container mt-3",children:Object(k.jsx)("div",{className:"alert alert-success font-weight-bold",role:"alert",children:t})})}n(81);function ae(){var e=Object(N.c)((function(e){return e.layout})).messages;return Object(k.jsx)("div",{className:"messages",children:e.map((function(e,t){return Object(k.jsx)(ce,{message:e},t)}))})}var se=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ae,{}),Object(k.jsx)(ne,{})]})},re=Object(R.a)({reducer:{cart:J,layout:L}});n(82);m.a.render(Object(k.jsx)(j.a.StrictMode,{children:Object(k.jsx)(N.a,{store:re,children:Object(k.jsx)(h.a,{children:Object(k.jsx)(se,{})})})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.49c5d44d.chunk.js.map